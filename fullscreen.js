document.addEventListener('DOMContentLoaded', () => { function toggleFullscreen() { const el = document.documentElement; if ( !document.fullscreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) { if (el.requestFullscreen) el.requestFullscreen(); else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen(); else if (el.msRequestFullscreen) el.msRequestFullscreen(); } else { if (document.exitFullscreen) document.exitFullscreen(); else if (document.webkitExitFullscreen) document.webkitExitFullscreen(); else if (document.msExitFullscreen) document.msExitFullscreen(); } } function isInteractiveElement(target) { if (!target) return false; const tag = target.tagName.toLowerCase(); const interactiveTags = [ 'input', 'textarea', 'select', 'button', 'label', 'a' ]; return ( interactiveTags.includes(tag) || target.isContentEditable || target.type === 'checkbox' || target.type === 'radio' ); } document.addEventListener('dblclick', e => { if (isInteractiveElement(e.target)) return; e.preventDefault(); toggleFullscreen(); }); document.addEventListener('pointerdown', e => { if (e.detail === 2) { if (isInteractiveElement(e.target)) return; e.preventDefault(); toggleFullscreen(); } }); document.documentElement.style.touchAction = 'manipulation'; });
